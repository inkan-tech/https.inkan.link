{{define "main"}}
<article class="max-w-4xl mx-auto">
  {{/* Add breadcrumb navigation for SEO */}}
  <div class="px-6 pt-4">
    {{ partial "breadcrumb" . }}
  </div>
  
  <!-- Clean Header -->
  <header class="px-6 py-12 md:py-16 text-center border-b border-neutral-200 dark:border-neutral-800">
    {{- if eq .Type "posts" }}
    <!-- Meta -->
    <div class="flex justify-center items-center space-x-4 text-sm text-neutral-600 dark:text-neutral-400 mb-6">
      <span class="inline-block w-2 h-2 rounded-full bg-primary-500"></span>
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ partial "date-format" . }}</time>
      <span>•</span>
      <span>{{ .Params.author }}</span>
      {{ if .Params.categories }}
      <span>•</span>
      <span class="capitalize">{{ index .Params.categories 0 }}</span>
      {{ end }}
    </div>
    {{- end }}
    
    <!-- Title -->
    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-neutral-900 dark:text-white leading-tight mb-6 max-w-3xl mx-auto">
      {{ .Title }}
    </h1>
    
    {{- if eq .Type "posts" }}
    <!-- Reading time -->
    <div class="text-neutral-600 dark:text-neutral-400">
      {{ partial "reading-time" . }}
    </div>
    {{- end }}
  </header>
  <!-- Featured Image (clean presentation) -->
  {{ with .Params.featured_image }}
  <div class="px-6 py-8 md:py-12">
    {{ with resources.Get . }}
    {{ $featuredimage := (.Resize "1200x webp q85").RelPermalink }}
    <div class="aspect-[16/10] overflow-hidden rounded-lg bg-neutral-100 dark:bg-neutral-800">
      <img src="{{ $featuredimage }}" 
           class="w-full h-full object-cover" 
           alt="{{ $.Title }}" />
    </div>
    {{ end }}
  </div>
  {{ end }}
  <!-- Content -->
  <div class="px-6 py-8">
    {{/* Table of contents for blog posts */}}
    {{- if and (eq .Type "posts") .TableOfContents }}
    <div class="max-w-3xl mx-auto mb-8">
      {{ partial "table-of-contents" . }}
    </div>
    {{- end }}
    
    <div class="prose prose-lg dark:prose-invert mx-auto max-w-3xl">
      {{.Content}}
    </div>
  </div>
  
  <!-- Clean CTA -->
  {{- if eq .Type "posts" }}
  <div class="px-6 py-12 md:py-16 text-center border-t border-neutral-200 dark:border-neutral-800">
    <div class="max-w-2xl mx-auto space-y-6">
      <h3 class="text-2xl font-semibold text-neutral-900 dark:text-white">
        {{ if eq .Language.Lang "fr" }}
        Découvrez Sealfie pour protéger votre entreprise
        {{ else }}
        Discover Sealfie to protect your business
        {{ end }}
      </h3>
      <p class="text-neutral-600 dark:text-neutral-400 text-lg">
        {{ if eq .Language.Lang "fr" }}
        Éliminez le stress des attaques au faux PDG avec notre solution révolutionnaire.
        {{ else }}
        Eliminate the stress of fake CEO attacks with our revolutionary solution.
        {{ end }}
      </p>
      {{ partial "cta-button" (dict 
        "text" (cond (eq .Language.Lang "fr") "Découvrir Sealfie" "Discover Sealfie")
        "url" "https://sealf.ie"
        "style" "primary"
        "size" "lg"
        "external" true
      ) }}
    </div>
  </div>
  {{- end }}
  
  {{/* Related posts section */}}
  {{ partial "related-posts" . }}
</article>
{{end}}